(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__33uMq",ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__27Gma"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2BN9O",Modal:"Modal_Modal__3neEr"}},25:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1hzzD"}},26:function(e,t,a){e.exports={Button:"Button_Button__21jFM"}},30:function(e,t,a){e.exports={loaderContainer:"Loader_loaderContainer__2fJOL"}},38:function(e,t,a){},60:function(e,t,a){},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1Op4y",SearchForm:"Searchbar_SearchForm__1OXTb",SearchForm__button:"Searchbar_SearchForm__button__2_B7S",SearchForm__buttonLabel:"Searchbar_SearchForm__buttonLabel__1FVcZ",SearchForm__input:"Searchbar_SearchForm__input__wDbem"}},82:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),o=a(5),u=a.n(o),s=(a(38),a(7)),i=a.n(s),l=a(16),b=a(11),m=a(4),j=a(6),d=a(12),h=a.n(d),p=a(2),g=a.n(p);h.a.defaults.baseURL="https://pixabay.com/api/",h.a.defaults.params={key:"18773042-c85a376c8239f0d185771db9c",image_type:"photo",orientation:"horizontal"};var O=function(){var e=Object(b.a)(i.a.mark((function e(t){var a,r,n,c,o,u,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,r=void 0===a?"":a,n=t.page,c=void 0===n?1:n,o=t.pageSize,u=void 0===o?15:o,e.prev=1,e.next=4,h.a.get("?q=".concat(r,"&page=").concat(c,"&per_page=").concat(u));case 4:return s=e.sent,l=s.data,e.abrupt("return",l.hits);case 9:return e.prev=9,e.t0=e.catch(1),j.b.error("Failed to connect to server"),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();O.propTypes={query:g.a.string.isRequired,page:g.a.number.isRequired};var f=O,_=(a(60),a(61),a(8)),v=a.n(_);var S=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(m.a)(a,2),o=c[0],u=c[1];return Object(r.jsx)("header",{className:v.a.Searchbar,children:Object(r.jsxs)("form",{className:v.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),u("")):j.b.warning("Enter query name")},children:[Object(r.jsx)("button",{type:"submit",className:v.a.SearchForm__button,children:Object(r.jsx)("span",{className:v.a.SearchForm__buttonLabel,children:"Search"})}),Object(r.jsx)("input",{className:v.a.SearchForm__input,value:o,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){u(e.target.value.toLowerCase())}})]})})},x=a(25),y=a.n(x),I=a(14),w=a.n(I),F=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,c=void 0===n?"":n,o=e.onSetImgData,u=e.onOpenModal;return Object(r.jsx)("li",{className:w.a.ImageGalleryItem,children:Object(r.jsx)("img",{src:t,alt:c,className:w.a.ImageGalleryItem__image,onClick:function(){o({largeImageURL:a,tags:c}),u()}})})},L=function(e){var t=e.images,a=e.onSetImgData,n=e.onOpenModal;return 0===t.length?null:Object(r.jsx)("ul",{className:y.a.ImageGallery,children:t.map((function(e){var t=e.id,c=e.webformatURL,o=e.largeImageURL,u=e.tags;return Object(r.jsx)(F,{webformatURL:c,largeImageURL:o,tags:u,onSetImgData:a,onOpenModal:n},t)}))})},k=a(26),C=a.n(k),M=function(e){var t=e.onClickHandler;return Object(r.jsx)("button",{type:"button",className:C.a.Button,onClick:t,children:"Load more"})},N=a(27),G=a(28),R=a(32),q=a(31),E=a(29),U=a.n(E),B=(a(81),a(30)),D=a.n(B),z=function(e){Object(R.a)(a,e);var t=Object(q.a)(a);function a(){return Object(N.a)(this,a),t.apply(this,arguments)}return Object(G.a)(a,[{key:"render",value:function(){return Object(r.jsx)("div",{className:D.a.loaderContainer,children:Object(r.jsx)(U.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})}}]),a}(n.Component),T=a(15),H=a.n(T),J=document.querySelector("#modal-root");var P=function(e){var t=e.onCloseModal,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(r.jsx)("div",{className:H.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(r.jsx)("div",{className:H.a.Modal,children:a})}),J)};var V=function(){var e=Object(n.useState)("new year"),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),u=Object(m.a)(o,2),s=u[0],d=u[1],h=Object(n.useState)(!1),p=Object(m.a)(h,2),g=p[0],O=p[1],_=Object(n.useState)(1),v=Object(m.a)(_,2),x=v[0],y=v[1],I=Object(n.useState)(15),w=Object(m.a)(I,1)[0],F=Object(n.useState)(null),k=Object(m.a)(F,2),C=k[0],N=k[1],G=Object(n.useState)(!1),R=Object(m.a)(G,2),q=R[0],E=R[1],U=Object(n.useState)(""),B=Object(m.a)(U,2),D=B[0],T=B[1],H=Object(n.useState)(null),J=Object(m.a)(H,2),V=J[0],X=J[1];Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={page:x,query:a,pageSize:w},e.next=4,f(t);case 4:if(r=e.sent,d((function(e){return[].concat(Object(l.a)(e),Object(l.a)(r))})),!(r.length<1)){e.next=10;break}return j.b.error("Your request was not found"),N(!0),e.abrupt("return");case 10:1!==x&&Y(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),N("Something went wrong. Try again.");case 16:return e.prev=16,O(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,x,w]);var Y=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},Z=function(){E((function(e){return!e}))},A=s.length>0&&!g;return Object(r.jsxs)("div",{children:[Object(r.jsx)(S,{onSubmit:function(e){a!==e&&(c(e),y(1),d([]),N(null))}}),Object(r.jsx)(L,{images:s,onOpenModal:Z,onSetImgData:function(e){var t=e.largeImageURL,a=e.tags;T(t),X(a)}}),A&&Object(r.jsx)(M,{onClickHandler:function(){O(!0),y((function(e){return e+1}))}}),g&&Object(r.jsx)(z,{}),q&&Object(r.jsx)(P,{onCloseModal:Z,children:Object(r.jsx)("img",{src:D,alt:V})}),C&&Object(r.jsx)("p",{className:"text-error",children:"404"}),Object(r.jsx)(j.a,{autoClose:3e3})]})};u.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(V,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.1e2695ad.chunk.js.map